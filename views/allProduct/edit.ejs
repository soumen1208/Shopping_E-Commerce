<%-include('../partials/header')%>
<%-include('../partials/flash')%>

<h1>Edit the form</h1>

    <form action="/products/<%= foundProducts._id %>?_method=PATCH" method="POST" novalidate>
        <div>
            <label for="naam">Name: </label>
            <input type="text" name="name" id="naam" value="<%= foundProducts.name %>" required>
            <div class="valid-feedback">
                Looks good!
            </div>
            <div class="invalid-feedback">
                Please choose a Product Name.
            </div>
        </div>
        
        <br>
        
        <div>
            <label for="chhobi">Image: </label>
            <input type="text" name="img" id="chhobi" value="<%= foundProducts.img %>">
        </div>
        
        <br>
        
        <div>
            <label for="prce">Price: </label>
            <input type="text" name="price" id="prce" value="<%= foundProducts.price %>" required>
            <div class="valid-feedback">
                Looks good!
            </div>
            <div class="invalid-feedback">
                invalid price.
            </div>
        </div>

        <br>
        
        <div>
            <label for="des">Description: </label>
            <textarea name="desc" id="des" rows="2" required><%= foundProducts.desc %></textarea>
            <div class="valid-feedback">
                Looks good!
            </div>
            <div class="invalid-feedback">
                Please wrtite description.
            </div>
        </div>
        
        <br>
        
        <button type="submit">Edit Products</button>
    </form>
    
    <script>
        // Example starter JavaScript for disabling form submissions if there are invalid fields
           (() => {
             'use strict'
             
             // Fetch all the forms we want to apply custom Bootstrap validation styles to
             const forms = document.querySelectorAll('.needs-validation')
           
             // Loop over them and prevent submission
             Array.from(forms).forEach(form => {
                 form.addEventListener('submit', event => {
                     if (!form.checkValidity()) {
                   event.preventDefault()
                   event.stopPropagation()
                 }
           
                 form.classList.add('was-validated')
               }, false)
            })
        })()
    </script>

<%-include('../partials/footer')%>
